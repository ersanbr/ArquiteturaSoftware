var cadCliente = angular.module("cadCliente", []);

cadCliente.controller('HttpGetController', function($scope, $http) {
	$scope.BuscarClientes = function() {
		$http.get('http://localhost:8081/SmallBI/rest/smallbi/clientes/list')
				.success(function(data) {
					$scope.clientes = data["clientes"];
				});
	};
	$scope.BuscarClientes();
});

cadCliente.controller("HttpPostController", function($scope, $http) {
	$scope.EnviarCliente = function() {

		var parameter = JSON.stringify({
			type : "clientes",
			nome : $scope.nome,
			rg   : $scope.rg,
			cpf  : $scope.cpf
		});

		var config = {
			headers : {
				'Content-Type' : 'application/json;charset=utf-8;'
			}
		}

		$http.post(
				'http://localhost:8081/SmallBI/rest/smallbi/clientes/create',
				parameter, config).success(
				function(data, status, headers, config) {
					$scope.Resposta = 'Empresa Salva com Sucesso!';
				}).error(
				function(data, status, header, config) {
					$scope.Resposta = "Data: " + data + "<hr />status: "
							+ status + "<hr />headers: " + header
							+ "<hr />config: " + config;
				});
	};
});